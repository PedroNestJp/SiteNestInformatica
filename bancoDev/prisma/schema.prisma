generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

model enderecos {
  id            Int         @id @default(autoincrement())
  rua           String      @db.VarChar(200)
  numero        Int
  bairro        String      @db.VarChar(30)
  cidade        String      @db.VarChar(60)
  estado        String      @db.VarChar(30)
  usuarioId     Int?        @map("usuario_id")
  usuarioPjId   Int?        @map("usuario_pj_id")
  usuario      usuarios?   @relation(fields: [usuarioId], references: [id])
  usuariopj    usuariospj? @relation(fields: [usuarioPjId], references: [id])

}


model usuarios {
  id              Int         @id @default(autoincrement())
  cpf             String      @unique @map("cpf")   @db.VarChar(15)
  celular         String      @db.VarChar(17)
  email           String      @unique @map("email") @db.VarChar(100)
  senha           String      @db.VarChar(20)
  dataNascimento  DateTime?   @db.Date @map("data_nascimento")
  nomeCompleto    String?     @db.VarChar(200)  @map("nome_completo")
  repetirSenha    String      @db.VarChar(20)   @map("repetir_senha")
  enderecos       enderecos[]

}

model usuariospj {
  cnpj                  String      @unique @map("cnpj")  @db.VarChar(16) 
  email                 String      @unique @map("email") @db.VarChar(100)
  senha                 String      @db.VarChar(20)
  id                    Int         @id @default(autoincrement())
  inscricaoEstadual     String?     @db.VarChar(12)   @map("inscricao_estadual")
  nomeCompRespCompra    String?     @db.VarChar(120)  @map("nome_comp_resp_compra")
  nomeFantasia          String?     @db.VarChar(100)  @map("nome_fantasia")
  razaoSocial           String?     @db.VarChar(100)  @map("razao_social")
  repetirSenha          String      @db.VarChar(20)   @map("repetir_senha")
  enderecos             enderecos[]

}

model produtos {
  id        Int     @id @default(autoincrement())
  nome      String? @db.VarChar(50)
  descricao String? @db.VarChar(254)
  categoria String  @db.VarChar(30)
  valor     String? @db.VarChar(50)
  carrinho carrinho[]
}

model carrinho{
  id                  Int     @id @default(autoincrement())
  qtdProdutos         Int     @map("qtd_produtos")
  idProdutos          Int     @map("id_produtos")
  produtos        produtos    @relation(fields: [idProdutos], references: [id])
  total               String  @db.VarChar(30)

}

model finalizar {
  id            Int @id @default(autoincrement())
  idPedido      Int @map("id_pedido")
  idProdutos    Int @map("id_produtos")
  idUsuario     Int @map("id_usuario")
}

model pedidos{
  id                  Int     @id @default(autoincrement())
  numeroPedido        Int     @map("numero_pedido")
  qtdProdutos         Int     @map("qtd_produtos")
  total               String  @db.VarChar(30)

}


model produtosPedidos {
  id            Int @id @default(autoincrement())
  idPedido      Int @map("id_pedido")
  idProdutos    Int @map("id_produtos")
  idUsuario     Int @map("id_usuario")
}
